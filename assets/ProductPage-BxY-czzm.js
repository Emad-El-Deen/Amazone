import{f as y,r,b,u as N,a as v,j as e,h as w,A,d as C}from"./index-DKVzOj9D.js";function T(){var d,o;const{id:n}=y(),[s,x]=r.useState(null),[c,m]=r.useState(1),[u,h]=r.useState(s==null?void 0:s.image),[g,i]=r.useState("Add to Cart"),p=b(),{auth:l}=N(),f=v();if(r.useEffect(()=>{fetch(`https://fakestoreapi.com/products/${n}`).then(t=>t.json()).then(t=>{x(t),h(t.image)})},[n]),r.useEffect(()=>{if(s){const t=l.cart.find(a=>a.id===s.id);i(t?`(${t.QTY}) Item in cart`:"Add to Cart")}},[l.cart,s]),!s)return e.jsx(w,{});const j=()=>{l.isLoggedIn?p(C({product:s,qty:c})):f("/sign-in")};return e.jsxs("div",{className:"py-32 max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("img",{src:u,alt:s.title,className:"w-full max-w-md mx-auto rounded-lg"}),e.jsx("div",{className:"flex space-x-2 justify-center",children:[...Array(3)].map((t,a)=>e.jsx("img",{src:s.image,alt:"Thumbnail",className:"w-16 h-16 p-1 rounded-md cursor-pointer border border-black"},a))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-1 text-yellow-500",children:[Array(Math.round((d=s.rating)==null?void 0:d.rate)).fill().map((t,a)=>e.jsx(A,{},a)),e.jsxs("span",{className:"text-gray-600 text-sm",children:["(",(o=s.rating)==null?void 0:o.count," ratings)"]})]}),e.jsxs("div",{className:"border p-4 rounded-lg",children:[e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",s.price]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Includes all taxes"}),e.jsx("p",{className:"text-green-600 font-semibold mt-2",children:"Extra 20% off with special offer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Ships within:"})," 4-5 days"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Payment:"})," Secure transaction"]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quantity",className:"block text-gray-700",children:"Quantity:"}),e.jsx("select",{id:"quantity",name:"quantity",value:c,onChange:t=>m(Number(t.target.value)),className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:Array.from({length:10}).map((t,a)=>e.jsx("option",{value:a+1,children:a+1},a+1))})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:j,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 px-4 rounded-md",children:g}),e.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md",children:"Buy Now"})]})]})]})]})}export{T as default};
